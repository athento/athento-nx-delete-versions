# athento-nx-delete-versions

##Synopsis

This Nuxeo plugin implements an operation to delete old versions massively of users documents in the repository.

##Motivation

When you don't need old versions, but they have been generated by some massive process (for example retrying a CSV import), and you just need to get rid of them, you can use operations included in this addon.

##Installation

Just take the package from the folder "Package", and install as any other addon via Local Packages in Administration.

##Usage

There are 2 operations, one that simulates but DON'T delete, and other one that really deletes.

###RemoveOldVersions
params: name:limit type:string - Limit the number of results that are going to be deleted.

###RemoveOldVersions_noDelete
params: name:limit type:string - Limit the number of results that would be deleted.

These operations are intended to be used via API. Some external script, using these operations to clean from old versions the repository

Examples:

1 - Search the first 5 version documents but don't delete them
POST http://localhost:8080/nuxeo/site/automation/RemoveOldVersions_noDelete
body: {"input":"","context":{} , "params" : { "limit" : "5" }}

2 - Search the first 5 version documents and delete them
POST http://localhost:8080/nuxeo/site/automation/RemoveOldVersions
body: {"input":"","context":{} , "params" : { "limit" : "5" }}
